"use strict";(self.webpackChunktechnical_tutorial=self.webpackChunktechnical_tutorial||[]).push([[9506],{3905:function(e,a,t){t.d(a,{Zo:function(){return d},kt:function(){return u}});var n=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=n.createContext({}),s=function(e){var a=n.useContext(p),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},d=function(e){var a=s(e.components);return n.createElement(p.Provider,{value:a},e.children)},c={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},m=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=s(t),u=r,k=m["".concat(p,".").concat(u)]||m[u]||c[u]||i;return t?n.createElement(k,o(o({ref:a},d),{},{components:t})):n.createElement(k,o({ref:a},d))}));function u(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=m;var l={};for(var p in a)hasOwnProperty.call(a,p)&&(l[p]=a[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=t[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},7570:function(e,a,t){t.r(a),t.d(a,{assets:function(){return d},contentTitle:function(){return p},default:function(){return u},frontMatter:function(){return l},metadata:function(){return s},toc:function(){return c}});var n=t(7462),r=t(3366),i=(t(7294),t(3905)),o=["components"],l={},p="Tips",s={unversionedId:"reactnative/tips",id:"reactnative/tips",title:"Tips",description:"Clean the Gradle caches",source:"@site/docs/reactnative/tips.md",sourceDirName:"reactnative",slug:"/reactnative/tips",permalink:"/TechnicalTutorial/docs/reactnative/tips",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/reactnative/tips.md",tags:[],version:"current",frontMatter:{},sidebar:"reactnativeSideBar",previous:{title:"Create Theme for React Native App",permalink:"/TechnicalTutorial/docs/reactnative/create-theme-for-react-native-app"}},d={},c=[{value:"Clean the Gradle caches",id:"clean-the-gradle-caches",level:2},{value:"Detox e2e setup common issues",id:"detox-e2e-setup-common-issues",level:2}],m={toc:c};function u(e){var a=e.components,l=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},m,l,{components:a,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"tips"},"Tips"),(0,i.kt)("h2",{id:"clean-the-gradle-caches"},"Clean the Gradle caches"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'find ~/.gradle -type f -name "*.lock" -delete\n')),(0,i.kt)("h2",{id:"detox-e2e-setup-common-issues"},"Detox e2e setup common issues"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Out of memory error when run ",(0,i.kt)("inlineCode",{parentName:"p"},"./gradlew assembleDebug assembleAndroidTest -DtestBuildType=debug")),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-java"},"java.lang.OutOfMemoryError: Java heap space\n")),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Solution:")),(0,i.kt)("p",{parentName:"li"},"Add ",(0,i.kt)("inlineCode",{parentName:"p"},"org.gradle.jvmargs=-Xmx4608m")," to ",(0,i.kt)("inlineCode",{parentName:"p"},"android/build.gradle"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"run ",(0,i.kt)("inlineCode",{parentName:"p"},"detox test --configuration ios.sim.debug")," works successfully but failed when run ",(0,i.kt)("inlineCode",{parentName:"p"},"detox test --configuration android.emu.debu")," after setting up detox following detox official documents"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"DetoxRuntimeError: Test Failed: '(view has effective visibility <VISIBLE> and view.getGlobalVisibleRect() covers at least <75> percent of the view's area)' doesn't match the selected view.\n    Expected: (view has effective visibility <VISIBLE> and view.getGlobalVisibleRect() covers at least <75> percent of the view's area)\n        Got: was null\n")),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Solution:")),(0,i.kt)("p",{parentName:"li"},"comment ",(0,i.kt)("inlineCode",{parentName:"p"},"await device.reloadReactNative();")," in ",(0,i.kt)("inlineCode",{parentName:"p"},"beforeEach()")," of ",(0,i.kt)("inlineCode",{parentName:"p"},"firstTest.e2e.js")," gemerated by ",(0,i.kt)("inlineCode",{parentName:"p"},"detox init")),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"beforeEach(async () => {\n  // await device.reloadReactNative();\n});\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Cannot resolve symbol 'TestButlerProbe'"),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Solution:")),(0,i.kt)("p",{parentName:"li"},"Comment ",(0,i.kt)("inlineCode",{parentName:"p"},"TestButlerProbe.assertReadyIfInstalled();")," in the ",(0,i.kt)("inlineCode",{parentName:"p"},"DetoxTest.java")," if you don't use TestButler"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-java"},"// TestButlerProbe.assertReadyIfInstalled();\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Run ",(0,i.kt)("inlineCode",{parentName:"p"},"sdkmanager")," throws error"),(0,i.kt)("p",{parentName:"li"},"run ",(0,i.kt)("inlineCode",{parentName:"p"},"sdkmanager --list")," and get ",(0,i.kt)("inlineCode",{parentName:"p"},"java.lang.NoClassDefFoundError")),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-java"},'xception in thread "main" java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n        at com.android.repository.api.SchemaModule$SchemaModuleVersion.<init>(SchemaModule.java:156)\n        at com.android.repository.api.SchemaModule.<init>(SchemaModule.java:75)\n        at com.android.sdklib.repository.AndroidSdkHandler.<clinit>(AndroidSdkHandler.java:81)\n        at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:73)\n        at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:48)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        ... 5 more\n')),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Solution:")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Install Java 1.8"),(0,i.kt)("li",{parentName:"ul"},"Run the command line with ",(0,i.kt)("inlineCode",{parentName:"li"},"JAVA_HOME")," environment variable")),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-bash"}," JAVA_HOME=$(/usr/libexec/java_home -v 1.8) sdkmanager --list\n")),(0,i.kt)("p",{parentName:"li"},"or"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"JAVA_HOME=$(/usr/libexec/java_home -v 1.8) $ANDROID_HOME/tools/bin/sdkmanager --list\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Latest ",(0,i.kt)("inlineCode",{parentName:"p"},"emulator")," cannot launch the avd device"),(0,i.kt)("p",{parentName:"li"},"Run",(0,i.kt)("inlineCode",{parentName:"p"},"$ANDROID_HOME/tools/bin/sdkmanager --install emulator")," to install the latest android emulator, but cannot launch avd with error ",(0,i.kt)("inlineCode",{parentName:"p"},"The emulator process for AVD xxx has terminated.")),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Solution:")),(0,i.kt)("p",{parentName:"li"},"Just remove the installed emulator by"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ANDROID_HOME/tools/bin/sdkmanager --uninstall emulator\n")),(0,i.kt)("p",{parentName:"li"},"and install the emulator from Android Studio by"),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"Preference...")," -> ",(0,i.kt)("inlineCode",{parentName:"p"},"Appearance & Behavior")," -> ",(0,i.kt)("inlineCode",{parentName:"p"},"System Settings")," -> ",(0,i.kt)("inlineCode",{parentName:"p"},"Android SDK")," -> ",(0,i.kt)("inlineCode",{parentName:"p"},"SDK Tools")," -> Tick ",(0,i.kt)("inlineCode",{parentName:"p"},"Android Emulator")," -> Click ",(0,i.kt)("inlineCode",{parentName:"p"},"Apply")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"OK"),"."),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{alt:"image",src:t(5321).Z,width:"1247",height:"880"})))))}u.isMDXComponent=!0},5321:function(e,a,t){a.Z=t.p+"assets/images/androidSDK-ccd477ee4e85e0da0b0241bdfea6e56d.png"}}]);