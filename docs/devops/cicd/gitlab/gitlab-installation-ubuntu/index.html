<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-devops/cicd/gitlab/gitlab-installation-ubuntu" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Gitlab Installation on Ubuntu 20.04 LTS | Technical Tutorial</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/TechnicalTutorial/docs/devops/cicd/gitlab/gitlab-installation-ubuntu"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Gitlab Installation on Ubuntu 20.04 LTS | Technical Tutorial"><meta data-rh="true" name="description" content="Content"><meta data-rh="true" property="og:description" content="Content"><link data-rh="true" rel="icon" href="/TechnicalTutorial/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/TechnicalTutorial/docs/devops/cicd/gitlab/gitlab-installation-ubuntu"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/TechnicalTutorial/docs/devops/cicd/gitlab/gitlab-installation-ubuntu" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/TechnicalTutorial/docs/devops/cicd/gitlab/gitlab-installation-ubuntu" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/TechnicalTutorial/resume/rss.xml" title="Technical Tutorial RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/TechnicalTutorial/resume/atom.xml" title="Technical Tutorial Atom Feed"><link rel="stylesheet" href="/TechnicalTutorial/assets/css/styles.9816e46e.css">
<script src="/TechnicalTutorial/assets/js/runtime~main.5cf81aa4.js" defer="defer"></script>
<script src="/TechnicalTutorial/assets/js/main.120d5961.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_Fcti" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/TechnicalTutorial/"><div class="navbar__logo"><img src="/TechnicalTutorial/img/logo.svg" alt="Technical Skills" class="themedComponent_vw9e themedComponent--light_X8li"><img src="/TechnicalTutorial/img/logo.svg" alt="Technical Skills" class="themedComponent_vw9e themedComponent--dark_XK36"></div><b class="navbar__title text--truncate">Technical Skills</b></a><a class="navbar__item navbar__link" href="/TechnicalTutorial/docs/scrum/scrum-concepts">Scrum</a><a class="navbar__item navbar__link" href="/TechnicalTutorial/docs/languages/intro">Languages</a><a class="navbar__item navbar__link" href="/TechnicalTutorial/docs/cloud-infrastructure/intro">Cloud Infrastructure</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/TechnicalTutorial/docs/devops/intro">DevOps</a><a class="navbar__item navbar__link" href="/TechnicalTutorial/docs/dataops/intro">DataOps</a><a class="navbar__item navbar__link" href="/TechnicalTutorial/docs/software-engineer/intro">Software Engineer</a><a class="navbar__item navbar__link" href="/TechnicalTutorial/docs/ides-and-dev-tools/intro">IEDs &amp; Dev Tools</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/TechnicalTutorial/resume">Resume</a><a href="https://github.com/PFTian/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_SPiH"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_qFPC colorModeToggle__Dgc"><button class="clean-btn toggleButton_r8nl toggleButtonDisabled_Bf6S" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_V9fX"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_V2ie"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_tUn5"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_juSb"><div class="docsWrapper_EIHb"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RnRE" type="button"></button><div class="docRoot_RpBZ"><aside class="theme-doc-sidebar-container docSidebarContainer_m6qY"><div class="sidebarViewport_R_ZS"><div class="sidebar_VeEV"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_iEUx"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/TechnicalTutorial/docs/devops/intro">intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/TechnicalTutorial/docs/devops/git/tips">Git</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/TechnicalTutorial/docs/devops/cicd/intro">CICD</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/TechnicalTutorial/docs/devops/cicd/intro">intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/TechnicalTutorial/docs/devops/cicd/github/intro">GitHub</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/TechnicalTutorial/docs/devops/cicd/gitlab/gitlab-installation-ubuntu">GitLab</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/TechnicalTutorial/docs/devops/cicd/gitlab/gitlab-installation-ubuntu">Gitlab Installation on Ubuntu 20.04 LTS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/TechnicalTutorial/docs/devops/cicd/gitlab/gitlab-runner-installation-ubuntu">Install Gitlab Runner on Ubuntu 20.04 LTS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/TechnicalTutorial/docs/devops/cicd/gitlab/gitlab-backup-and-restore">Migrate Gitlab from one server to another</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/TechnicalTutorial/docs/devops/cicd/gitlab/gitlab-reactjs-ci-cd">Deploy A ReactJS App with Gitlab(Self-hosted) CI/CD</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/TechnicalTutorial/docs/devops/containerization/intro">Containerization</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_l7w_"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Oso4"><div class="docItemContainer_wfoJ"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_NOSR" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/TechnicalTutorial/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_WmEB"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">CICD</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">GitLab</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Gitlab Installation on Ubuntu 20.04 LTS</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_Cm4U theme-doc-toc-mobile tocMobile_vepl"><button type="button" class="clean-btn tocCollapsibleButton_gyNk">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Gitlab Installation on Ubuntu 20.04 LTS</h1></header>
<h2 class="anchor anchorWithStickyNavbar_gnyd" id="content">Content<a href="#content" class="hash-link" aria-label="Direct link to Content" title="Direct link to Content">​</a></h2>
<ul>
<li><a href="#Requirements">Requirements</a></li>
<li><a href="#Installation">Installation</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_gnyd" id="requirements">Requirements<a href="#requirements" class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements">​</a></h2>
<p>The official hardware requirements is listed in <a href="https://docs.gitlab.com/ee/install/requirements.html" target="_blank" rel="noopener noreferrer">this page</a>, Please check this <strong><code>Requirement</code></strong> document before you install the gitlab.</p>
<p>Based on the official document, the below hardware is needed for a server.</p>
<blockquote>
<h2 class="anchor anchorWithStickyNavbar_gnyd" id="cpu">CPU<a href="#cpu" class="hash-link" aria-label="Direct link to CPU" title="Direct link to CPU">​</a></h2>
<p>The following is the recommended minimum CPU hardware guidance for a handful of example GitLab user base sizes.</p>
<ul>
<li><strong>4 cores</strong> is the <strong>recommended</strong> minimum number of cores and supports up to 500 users</li>
<li>8 cores supports up to 1000 users</li>
</ul>
</blockquote>
<blockquote>
<h2 class="anchor anchorWithStickyNavbar_gnyd" id="memory">Memory<a href="#memory" class="hash-link" aria-label="Direct link to Memory" title="Direct link to Memory">​</a></h2>
<p>The following is the recommended minimum Memory hardware guidance for a handful of example GitLab user base sizes.</p>
<ul>
<li><strong>4GB RAM</strong> is the <strong>required</strong> minimum memory size and supports up to 500 users</li>
<li>8GB RAM supports up to 1000 users</li>
</ul>
</blockquote>
<p>Based on my testing/experiment. The minimum hardware requirement that can run gitlab smoothly is</p>
<table><thead><tr><th>Hardware</th><th>Value</th></tr></thead><tbody><tr><td>CPU</td><td>2 Cores</td></tr><tr><td>Memory</td><td>4GB RAM</td></tr></tbody></table>
<p>With this hardware, we don&#x27;t need to add any swap space on the server.</p>
<p>However, based on the suggestion from the official document</p>
<blockquote>
<p>In addition to the above, we generally recommend having at least 2GB of swap on your server, even if you currently have enough available RAM. Having swap will help reduce the chance of errors occurring if your available memory changes. We also recommend configuring the kernel’s swappiness setting to a low value like 10 to make the most of your RAM while still having the swap available when needed.</p>
</blockquote>
<p>We&#x27;d better to add a swap space on the server. (<em>Reference</em>: <a href="https://linuxize.com/post/how-to-add-swap-space-on-ubuntu-18-04/" target="_blank" rel="noopener noreferrer">How to add swap space on ubuntu 18.04</a>)</p>
<p>With adding swap space (at leaset 2 GB) on linux server, the machine with below hardware can also run the gitlab.</p>
<table><thead><tr><th>Hardware</th><th>Value</th></tr></thead><tbody><tr><td>CPU</td><td>1 Core</td></tr><tr><td>Memory</td><td>1GB RAM</td></tr><tr><td>Swap</td><td>4GB</td></tr></tbody></table>
<table><thead><tr><th>Hardware</th><th>Value</th></tr></thead><tbody><tr><td>CPU</td><td>1 Core</td></tr><tr><td>Memory</td><td>2GB RAM</td></tr><tr><td>Swap</td><td>2GB</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_gnyd" id="installation">Installation<a href="#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation">​</a></h2>
<p>OS: <em>Ubuntu 16.04LTS 18.04LTS 20.04LTS</em></p>
<h3 class="anchor anchorWithStickyNavbar_gnyd" id="1-install-and-configure-the-necessary-dependencies">1. Install and configure the necessary dependencies<a href="#1-install-and-configure-the-necessary-dependencies" class="hash-link" aria-label="Direct link to 1. Install and configure the necessary dependencies" title="Direct link to 1. Install and configure the necessary dependencies">​</a></h3>
<p><strong>STEP 1</strong></p>
<div class="language-bash codeBlockContainer_VY_X theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Emf2"><pre tabindex="0" class="prism-code language-bash codeBlock_cEVj thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_o66c"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get install -y curl openssh-server ca-certificates</span><br></span></code></pre><div class="buttonGroup_JuMy"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_nyAL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Qh1x"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_BI7y"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>STEP 2</strong></p>
<p>Next, install <code>Postfix</code> to send notification emails. If you want to use another solution to send emails please skip this step and <a href="https://docs.gitlab.com/omnibus/settings/smtp.html" target="_blank" rel="noopener noreferrer">configure an external SMTP server</a> after GitLab has been installed.</p>
<div class="language-bash codeBlockContainer_VY_X theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Emf2"><pre tabindex="0" class="prism-code language-bash codeBlock_cEVj thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_o66c"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get install -y postfix</span><br></span></code></pre><div class="buttonGroup_JuMy"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_nyAL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Qh1x"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_BI7y"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>During Postfix installation a configuration screen may appear. Select <code>Internet Site</code> and press enter. Use your server&#x27;s external DNS for <code>mail name</code> and press enter. If additional screens appear, continue to press enter to accept the defaults.</p>
<p><em>TODO</em>:</p>
<ul class="contains-task-list containsTaskList_yEFp">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Solve how to config postfix. Based on the current postfix configuration during above description, the postfix cannot send email to the registered users.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_gnyd" id="2-add-the-gitlab-package-repository-and-install-the-package">2. Add the GitLab package repository and install the package<a href="#2-add-the-gitlab-package-repository-and-install-the-package" class="hash-link" aria-label="Direct link to 2. Add the GitLab package repository and install the package" title="Direct link to 2. Add the GitLab package repository and install the package">​</a></h3>
<p><strong>STEP 1</strong></p>
<p>Add the GitLab package repository</p>
<div class="language-bash codeBlockContainer_VY_X theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Emf2"><pre tabindex="0" class="prism-code language-bash codeBlock_cEVj thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_o66c"><span class="token-line" style="color:#393A34"><span class="token plain">curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | sudo bash</span><br></span></code></pre><div class="buttonGroup_JuMy"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_nyAL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Qh1x"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_BI7y"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em><strong>NOTE: Mainland Server Installation</strong></em></p>
<p>For the server in the mainland China, it is better to change the gitlab official repository to tsinghua gitlab repository, otherwise, it will be very slow to download the gitlab.</p>
<div class="language-bash codeBlockContainer_VY_X theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Emf2"><pre tabindex="0" class="prism-code language-bash codeBlock_cEVj thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_o66c"><span class="token-line" style="color:#393A34"><span class="token plain">sudo vim /etc/apt/sources.list.d/gitlab_gitlab-ce.list</span><br></span></code></pre><div class="buttonGroup_JuMy"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_nyAL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Qh1x"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_BI7y"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Replace or comment the below lines</p>
<div class="codeBlockContainer_VY_X theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Emf2"><pre tabindex="0" class="prism-code language-text codeBlock_cEVj thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_o66c"><span class="token-line" style="color:#393A34"><span class="token plain">deb https://packages.gitlab.com/gitlab/gitlab-ee/ubuntu/ bionic main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deb-src https://packages.gitlab.com/gitlab/gitlab-ee/ubuntu/ bionic main</span><br></span></code></pre><div class="buttonGroup_JuMy"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_nyAL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Qh1x"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_BI7y"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>to</p>
<div class="codeBlockContainer_VY_X theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Emf2"><pre tabindex="0" class="prism-code language-text codeBlock_cEVj thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_o66c"><span class="token-line" style="color:#393A34"><span class="token plain">deb https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/ubuntu bionic main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deb-src https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/ubuntu bionic main</span><br></span></code></pre><div class="buttonGroup_JuMy"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_nyAL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Qh1x"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_BI7y"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then, excute</p>
<div class="language-bash codeBlockContainer_VY_X theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Emf2"><pre tabindex="0" class="prism-code language-bash codeBlock_cEVj thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_o66c"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get update</span><br></span></code></pre><div class="buttonGroup_JuMy"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_nyAL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Qh1x"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_BI7y"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>STEP 2</strong></p>
<p>Next, install the GitLab package. Change <code>https://gitlab.example.com</code> to the URL at which you want to access your GitLab instance. Installation will automatically configure and start GitLab at that URL.</p>
<p>For <code>https://</code> URLs GitLab will automatically request a certificate with <strong>Let&#x27;s Encrypt</strong>, which requires inbound HTTP access and a valid hostname. You can also use your own certificate or just use <code>http://</code>.</p>
<div class="language-bash codeBlockContainer_VY_X theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Emf2"><pre tabindex="0" class="prism-code language-bash codeBlock_cEVj thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_o66c"><span class="token-line" style="color:#393A34"><span class="token plain">sudo EXTERNAL_URL=&quot;https://gitlab.example.com&quot; apt-get install gitlab-ee</span><br></span></code></pre><div class="buttonGroup_JuMy"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_nyAL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Qh1x"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_BI7y"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em>Reference</em> <a href="#">How to assign a domain name to a server</a></p>
<h3 class="anchor anchorWithStickyNavbar_gnyd" id="3-browse-to-the-hostname-and-login">3. Browse to the hostname and login<a href="#3-browse-to-the-hostname-and-login" class="hash-link" aria-label="Direct link to 3. Browse to the hostname and login" title="Direct link to 3. Browse to the hostname and login">​</a></h3>
<p>Unless you provided a custom password during installation, a password will be randomly generated and stored for 24 hours in <code>/etc/gitlab/initial_root_password</code>. Use this password with username <code>root</code> to login.</p>
<p>See our <a href="https://docs.gitlab.com/omnibus/README.html#installation-and-configuration-using-omnibus-package" target="_blank" rel="noopener noreferrer">documentation for detailed instructions on installing and configuration</a>.</p>
<h1>What is NEXT?</h1>
<p>After installing the Gitlab, we need to config CI/CD on the Gitlab.</p>
<ol>
<li><a href="https://github.com/LeoTianJob/TechWiki/wiki/Docker-Installation" target="_blank" rel="noopener noreferrer">Install Docker on the server</a></li>
<li><a href="https://github.com/LeoTianJob/TechWiki/wiki/Gitlab-Runner" target="_blank" rel="noopener noreferrer">Install gitlab runner on the server</a></li>
</ol></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/TechnicalTutorial/docs/devops/cicd/github/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">intro</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/TechnicalTutorial/docs/devops/cicd/gitlab/gitlab-runner-installation-ubuntu"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Install Gitlab Runner on Ubuntu 20.04 LTS</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_yKKF thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#content" class="table-of-contents__link toc-highlight">Content</a></li><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#cpu" class="table-of-contents__link toc-highlight">CPU</a></li><li><a href="#memory" class="table-of-contents__link toc-highlight">Memory</a></li><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a><ul><li><a href="#1-install-and-configure-the-necessary-dependencies" class="table-of-contents__link toc-highlight">1. Install and configure the necessary dependencies</a></li><li><a href="#2-add-the-gitlab-package-repository-and-install-the-package" class="table-of-contents__link toc-highlight">2. Add the GitLab package repository and install the package</a></li><li><a href="#3-browse-to-the-hostname-and-login" class="table-of-contents__link toc-highlight">3. Browse to the hostname and login</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/TechnicalTutorial/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_SPiH"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_SPiH"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_SPiH"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/TechnicalTutorial/resume">Resume</a></li><li class="footer__item"><a href="https://github.com/PFTian/TechnicalTutorials" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_SPiH"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>